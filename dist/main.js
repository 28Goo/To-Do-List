(()=>{"use strict";let e=[];class t{constructor(e){this.title=e,this.id=0,this.tasks=[]}addID(e){this.id=e}}let n=0;function o(){document.querySelector(".projects").innerHTML="";const t=document.querySelector(".projects");for(let n=0;n<e.length;n++){const o=document.createElement("div");o.classList.add("project"),o.dataset.value=`${n}`;const s=document.createElement("h4");s.classList.add("project-title"),s.textContent=e[n].title;const c=document.createElement("input");c.classList.add("project-checkbox"),c.dataset.index=n,c.type="checkbox",t.appendChild(o),o.appendChild(c),o.appendChild(s)}}function s(){document.querySelectorAll(".project").forEach((e=>{e.addEventListener("click",(()=>{n=parseInt(e.dataset.value),c(n)})),n=parseInt(e.dataset.value),c(n)}))}function c(t){if(!e[t].tasks[0])return void l();l();const n=document.querySelector(".task-container");for(let o=0;o<e[t].tasks.length;o++){const s=document.createElement("div");s.classList.add("task"),s.dataset.index=o;const c=document.createElement("div");c.classList.add("title-container");const l=document.createElement("input");l.classList.add("task-checkbox"),l.dataset.index=o,l.type="checkbox";const a=document.createElement("h3");a.textContent=e[t].tasks[o].title;const r=document.createElement("p");r.textContent=`Due Date: ${e[t].tasks[o].dueDate}`,n.appendChild(s),s.appendChild(c),c.appendChild(l),c.appendChild(a),s.appendChild(r)}document.querySelectorAll(".task").forEach((e=>{}))}function l(){document.querySelector(".task-container").innerHTML=""}window.addEventListener("click",(l=>{"show-project-form"===l.target.id?function(){const e=document.querySelector(".project-form");e.style.display&&"none"!==e.style.display?e.style.display="none":e.style.display="flex"}():"add-project"===l.target.id?function(){const n=document.querySelector(".project-form"),c=document.querySelector("#project-title");for(let t=0;t<e.length;t++)if(c.value===e[t].title)return void alert("Project already exists");const l=new t(c.value);e.push(l);for(let t=0;t<e.length;t++)l.addID(t);c.value=null,n.style.display="none",o(),s()}():"project-checkbox"===l.target.className?function(t){e.splice(t.target.dataset.index,1),o(),s()}(l):"add-task-button"===l.target.id?function(){if(!e[0])return void alert("Add a Project First.");const t=document.querySelector(".task-form"),n=document.querySelector("main");t.style.display&&"none"!==t.style.display?(t.style.display="none",n.style.filter="brightness(100%)"):(t.style.display="flex",n.style.filter="brightness(50%)",n.style.pointerEvents="none")}():"add-task-form"===l.target.id?function(){const t=document.querySelector("#task-title"),o=document.querySelector("#description"),s=document.querySelector("#due-date"),l=document.querySelector("#priority");if(""===t.value||""===o.value||""===s.value)return void alert("Fill up the whole form.");let a;a=0===l.selectedIndex?"High":1===l.selectedIndex?"Medium":"Low";const r=new class{constructor(e,t,n,o){this.title=e,this.description=t,this.dueDate=n,this.priority=o}}(t.value,o.value,s.value,a);for(let t=0;t<e.length;t++)if(e[t].id===n){e[t].tasks.push(r);break}!function(){const e=document.querySelector(".task-form"),t=document.querySelector("main"),n=document.querySelector("#task-title"),o=document.querySelector("#description"),s=document.querySelector("#due-date");e.style.display="none",t.style.filter="brightness(100%)",t.style.pointerEvents="auto",n.value=null,o.value=null,s.value=null}(),c(n)}():"task-checkbox"===l.target.className?function(t){e[n].tasks.splice([parseInt(t.target.dataset.index)],1),c(n)}(l):"cancel-form"===l.target.id&&function(){const e=document.querySelector(".task-form"),t=document.querySelector("main");e.style.display="none",t.style.filter="brightness(100%)",t.style.pointerEvents="auto"}()}))})();